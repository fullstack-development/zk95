/* eslint-disable @typescript-eslint/ban-ts-comment */
import { StrictMode } from 'react';
import * as ReactDOM from 'react-dom/client';
import { ModalProvider } from 'styled-react-modal';
import { styleReset } from 'react95';
// @ts-ignore
import ms_sans_serif from 'react95/dist/fonts/ms_sans_serif.woff2';
// @ts-ignore
import ms_sans_serif_bold from 'react95/dist/fonts/ms_sans_serif_bold.woff2';
import { createGlobalStyle, ThemeProvider } from 'styled-components';
import { useProperties } from '@frp-ts/react';

import { ModalBackground } from '@mixer/components';
import { mkCustomizeModel } from '@mixer/customizer';
import { injectable } from '@mixer/injectable';
import { useRunEff } from '@mixer/eff';

import { mkApp } from './app/app';

const GlobalStyles = createGlobalStyle`
  ${styleReset}
  @font-face {
    font-family: 'ms_sans_serif';
    src: url('${ms_sans_serif}') format('woff2');
    font-weight: 400;
    font-style: normal
  }
  @font-face {
    font-family: 'ms_sans_serif';
    src: url('${ms_sans_serif_bold}') format('woff2');
    font-weight: bold;
    font-style: normal
  }
  body, input, select, textarea {
    font-family: 'ms_sans_serif';
  }

  html, body, #root {
    font-family: 'ms_sans_serif';
    height: 100vh;
  }

  * {
    box-sizing: border-box;
  }
`;

const root = ReactDOM.createRoot(
  document.getElementById('root') as HTMLElement
);

const mkRoot = injectable(
  mkCustomizeModel,
  mkApp,
  (customizeModel, appEff) => () => {
    const [themeKey] = useProperties(customizeModel.selectedTheme$);
    const App = useRunEff(appEff);

    return (
      <StrictMode>
        <GlobalStyles />
        <ThemeProvider theme={customizeModel.themes[themeKey]}>
          <ModalProvider backgroundComponent={ModalBackground}>
            <App />
          </ModalProvider>
        </ThemeProvider>
      </StrictMode>
    );
  }
);

const Root = mkRoot({
  onchainConfig: {
    100: {
      depositScript: {
        cbor: '5915ae0100003232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323222232323232323232533553353357389211944617461206465636f646564207375636365737366756c6c790053335734609c0020682a666ae68c1340044c8c8488c00800d4ccd5cd18271829800899191909198008018011981b3ad357426ae88c15000d4ccd5cd1827982a0008991909198008018011982b1119192999ab9a305600113212223002004375c6ae84c16000854ccd5cd182a800899191919091119980080380280218039aba135744004600c6ae84004d5d1182c8019bae3574260b00042a666ae68c1500040e013cc160004dd50009aba13574460a80046eb4d5d098298008251baa3574260a40020926ea8d5d0982880102410a999a8029099191919299aa99a999aa9820825980b80c11a80091199aa9822027180d00d91a80091199a8009198102400000203e466040002900000099aa982102591a8009119813001199a800919aa982302791a8009119815001180c8008009119980b00d801000919aa982302791a8009119815001180d80080099980880b1a800823299a9a804911a8011111111111111999a806902a102a102a1199aa982802d1981911299a80110801880082a11a80091299aa999ab9a3371e6a0040b86a0080b82666ae68cdc39a80102c1a80202c02d82b8260981b801826006909a9a800823901d0a99ab9c4911443616e27742066696e64206f776e20696e707574001604813357389201214465706f7369742074726565206f75747075742076616c7565206368616e676564000451325335533553353500104b203c04904913357389211a5661756c74206f757470757420646174756d206368616e67656400046132323233355304504f301b01c20013017122323300353355335333553048052301e01c301d00c33060225333500105121301d12233002003001222133355304c057058300500130050023500104d04104f04f1335738920124436f6d6d69746d656e7420686173206265656e207375626d6974746564206265666f72650004c330035333573466e1cc0c0888120cdc099981780224410048810033302f0054890048810004f13357389201274e6f6d696e616c20616d6f756e742073686f756c64206265207061696420746f207363726970740004c323232323232323232323232323233011533535003225333573466e1c0080384ccc1c08894ccd4008150854ccd400815484cc0c800800488816088854ccd401015c816088854ccd5cd19b8f006003153353300900500213300900400105a05a00100605105d133573892122496e636f7272656374204d65726b6c652054726565207374617465207570646174650005a33011533553353501405b21533550022133030002001050153355001205005d05d133573892011f4d65726b6c65205472656520726f6f74206973206e6f7420636f72726563740005a01013253353500e22253335004052205322215333573466e3c00c0181544c10000c84c0ecd4cccd54c15c184c02c03088d400488cc0f4cdc019b82335004480092000001002337049002000999aa982b8309981c91199aa982c03183200080102f92999ab9a306a001004132333553058063064001335305706333702900819806182c831800a8029982d182d80083019aa982c0309b8e33371890002407c002660de44a666ae68cdc3a407c0020c02660c8002600466e00005200248000cc0e520004800818013cd40081684cd4c16817920100583501105c33306a22253350021333355305505f300900a2232533350021300703b213500422533350011333039372466e2800c0100140dc84ccc0e8dc919b8a0010040020062221300d04122213500622533350011300c04021300d04122215335005133303e372466e2800c0200100284ccc0f8dc919b8a00800300a0043500f05433553306d22112253350020602215335003062221330683303f0040023355300806700300105f00135333355305505f300900a2235001225333500213303b002001213303c0030022221533500713303e0013306700200413303e002330670010045005330373500e05a05d05a30320192213300500133062002003500205a253357389201264e6f7420636f6e73697374656e74204d65726b6c65205472656520636f6d706f736974696f6e00161325333573460c6010266a60ae0b60020aa2a666ae68cdc48042999ab9a3371000290000a99ab9c491114e65676174697665206578706f6e656e74001615333573460c600226a0060ac26660d2444a66a600a002266006666a00c0ba00400466e10005200415333573460ce0022004266660d84444a66a60120042666008666a0140c200600666e10009200400115333573460d60042666a0140c20060022666008666a0140c200600666e100092004333500a061003001333500605d00200233708002900200124008002264666aa60a20b80ba00266a60a00b866e04008cc014c148170004cd4c160170008158cc14cc15002016454cd5ce2481134d65726b6c6520747265652069732066756c6c00163500804b2333573460c466e180052004058054330307049001111999aa80118018021119b8000148008005200023302f223335003058001002350010523302d2223003300200120013370000290011a80102918181110231a8060281a8018249a9aa99aa99a99981480218158291a80302881e110a99a8008981480111020108008a99ab9c49011643616e27742066696e64207661756c7420696e7075740016048203b53353500204b2100115335738920114496e636f7272656374206e657874207374617465001603b333302001a002302905000303a333301f019001302805000230270503500122222222222200a350050461302101f1302101f15333500421302101f1533553355335333021302304c302304b35350030440490342215335001130210022203820430340421335738920120446f6573206e6f74207370656e64206465706f7369742074726565205554784f0003f1533553355335333021302304c30232220353535003044049034221533500113021002220382043034042133573892123446f6573206e6f74207370656e64206e756c6c69666965722073746f7265205554784f0003f112001153357389210350543500163051001375401066ae7124012353637269707420636f6e74657874206465636f646564207375636365737366756c6c7900533357346094609e0082646464246600200600460546ae84d5d118280032999ab9a304b3050001132323232323232323232323232323232323232323232321233333333333300101801601401201000e00c0090070050030023044357426ae88008ccc0f1d710009aba10013574400466607407840026ae84004d5d10011981cbae357420026ae8800d4ccd5cd182d182f80089919191909198008020012999ab9a305d30620011323212330010030023035357426ae88c188008cc0d5d69aba1306100105837546ae84d5d11830001a999ab9a305b30600011323212330010030023033357426ae88c180008cc0cdd69aba1305f00105637546ae84c178004154dd51aba10013574400466606606eeb4d5d08009aba200233032034357420026ae88008ccc0bdd70171aba10013574400466605aeb80b0d5d08009aba20023302c029357420026ae88008cc0a8098d5d08009aba230500023302802435742609e00208c6ea8d5d0982700202299ab9c49011d52656465656d6572206465636f646564207375636365737366756c6c79005333573460960020622a666ae68c1280040cc54ccd5cd1824800899091118018021bae35742609a004088609a0026ea800cdd5000911199aa981901e81f19aa981a01e91a800911980c0011803800999aa981901e911a80111299a999aa981b820980680591a8009119805001002803080189982100200181d80099aa981a01e91a800911980c0011982711299a800898058019109a80111299a99806001004089111980100500209803001802001109111801802119a80081d01b909111800802091980091299a80101b080081891199ab9a3371e00400206a06246601a44666a00606c0040026a0020606601644a66a004200204806244666ae68cdc380100081901711999999aba40012323253335734607c00226666aae7cc1040088c0400c080c00d454ccd5cd181e80089999aab9f30410022030233335573e6ae88c10800c8c94cd4ccccccd5d20009192999ab9a3042304700113233335573e002406c4646666aae7c00480e08cccd55cf9aba2002232533533333335748002464a666ae68c128c13c0044c8cccd55cf800901f1191999aab9f0012040233335573e6ae8800894cd4c060d5d080290a99a9982b111999999aba4001232325333573460ae00226666aae7cc16400881208cccd55cf9aba2305a00325335301f3574260b6008426054604600207c409209c09a2a666ae68c1580044cccd55cf982c80110241191999aab9f001204a23233335573e002409846666aae7cd5d10011299a98119aba1305f008215335300c3574200c42a66a601a6ae8401484c0c0ccc0a800c00800411010c1088134148144d5d10010279aba2305a00304d15333573460aa00226666aae7cc1640088c0a008081201340f0c164004dd500110229022902290228251aba100421302333021002001037036204104604535744004086609c0020626ea800880ec80ec80ec80ec10084c94cd4ccccccd5d2000919192999ab9a304d001133335573e60a2004408046666aae7cd5d118290019299a980c1aba1305300421302230220010362041046045153335734609c00226666aae7cc1440088c08010081001140d0c144004dd5001101e901e901e901e82110980e89198008020010189aba100502f3574200a407207c07a6ae880080ecc1180040a4dd5001101990199019901981c10980989118010018139aba13043004203103603502430410013754004405a405a405a405a06446666666ae9000480b080b080b080b08c030dd700101891999999aba4001202b202b202b2300b375a00440560602036424446004008444244466600200c00a0084444a66a666aa604805e44a666ae68c0e8d40088888ccc04800c0240204cc0c800800440040b40044c0180208854cd40044cc024d400888894ccd40084c02c0dc854cd4c02c004840044c0300e084c0300e0d4008807c884c02803094cd5ce0008b1299ab9c490140457861636c79206f6e6520736372697074206f75747075742073686f756c64206265206372656174656420666f72206e6578742073637269707420737461746500162212330010030024988488c00800c94cd5ce248115446973616c6c6f776564207472616e736974696f6e0016223355301b026225333573460626a004446a00244446660160060140122660520040022002048444660684466a0029000111a801112999ab9a3371e0040102660744466a0029000111a801112999ab9a3371e00401a20022600c0060022600c00600646666660029111ccd4ecd8b80466c7325e9d2f76fce6eb8a236667734eb1646bcfdcb51004881124465706f736974205472656520546f6b656e0048810b5661756c7420546f6b656e004881154e756c6c69666965722053746f726520546f6b656e004820212bd7c48ccc005221204f6e4171d3e3e1c7f39a7b4b0d94509bdd3e3ef44ce3c0d2f3e9d43aaf160b28004881206e045b8f5eaa4bdc8f8a44797255d03f4e2aac366e32859c5d07cd8de46c2ea300480388c94ccd5cd18160008100a999ab9a302b001012026302f3754002446464a666ae68c0b800405054ccd5cd18168008990911180180218021aba13030002153335734605800202c04e60600026ea80048c94ccd5cd1814981700089919091980080180118021aba135744605c00460166ae84c0b4004090dd50009192999ab9a3028302d00113232323232323232321233330010090070030023301675c6ae84d5d10022999ab9a3031001132122230020043574260660042a666ae68c0c00044c84888c004010dd71aba13033002153335734605e00202605460660026ea8d5d08009aba200233300775c00c6ae84004d5d11817001a999ab9a3029302e0011323212330010030023301000a357426ae88c0b8008c028d5d098168008121baa3574260580020466ea8004cc005d73ad2223302d2233335573e002404046464646604c2466002006004600c6ae88014c01cc0c0008c01cc0c0004d5d08010109bab001223302b2233335573e002403c466042600a6ae84008c00cd5d100100f9bac0012323253335734605000226424444600800a60086ae84c0a400854ccd5cd181380089909111180100298029aba13029002153335734604c00226424444600200a600e6ae84c0a400854ccd5cd18128008990911118018029bae35742605200404060520026ea80048c8c94ccd5cd19b874803000444888803454ccd5cd19b874802800444808854ccd5cd19b87480200044c8c848888888cc004024020dd69aba13574460520066eb8d5d098140010a999ab9a3027001132321222222233002009008375c6ae84d5d118148019bae3574260500042a666ae68c0980044c8c848888888cc018024020dd71aba135744605200660086ae84c0a000854ccd5cd181280089909111111180380418021aba13028002153335734604800226424444444600a01060086ae84c0a000807cc0a0004dd5000919192999ab9a3024001132323232122333001006004003375a6ae84d5d10011bad357420026ae88c0a000cdd69aba130270021533357346046002264244600400660086ae84c09c008078c09c004dd5000919192999ab9a30230011321223001003375c6ae84c09800854ccd5cd181100089909118010019bae35742604c00403a604c0026ea80048c94ccd5cd181018128008991909198008018011bad357426ae88c094008c00cd5d0981200080d9baa00123253335734603e604800226eb8d5d0981180080d1baa0011100122200322323253335734603c002264244600400660086ae84c08800854ccd5cd180f80080280c98110009baa0011100c1100122200111001222002301a221225333573466e24009200000d1533500100d221330130023353006012337020089001000980c9108911299a800880111099802801199aa9803809002802000980c1108911299a80089a801805110999a8028081802001199aa9803808802802000980b910891299a80080511099808180200119aa9803007802000980b111299a80108009109980280099807001001980a912999ab9a3011001006153335734602266e18005200413300a0033002337060029002099805003980119b8300148010400488004c048884894ccd5cd19b89002480000144cc024004cd4c010020cdc080124004002200220024400424002442446600200800692124536372697074206f757470757420696e6c696e6520646174756d206e6f7420666f756e640015335738920103505431001622222222222200c222222004222222005222222006370e90001b8748008dc3a40086e1d20065573caae748c8c00400488cc00cc008008005',
        type: 'PlutusV2',
      },
      withdrawScript: {
        cbor: '590a0001000032323232323232323232323232323232323232323232323232323232323232222323232323232323232323232323253330263370e90010010999991199812911299981600089128008a999815980118180008991118010019818000899801801181780098108008011bac302b005302b001232323232323232323232323232323232323253330393370e90000010991919191919191919299982119b87480080084c8c8c94ccc114cdc3a40040042a66096921435061747465726e206d61746368206661696c75726520696e2027646f2720626c6f636b206174207372632f4d697865722f5363726970742e68733a3130313a332d31330016153330453370e6eb4c128004dd6982518200178a4c2a660969211a4d65726b6c6520726f6f74206973206e6f742063757272656e740016304c002304c0013754646090608e607c002608e0142a660909214c5061747465726e206d61746368206661696c75726520696e207175616c69666965642027646f2720626c6f636b206174207372632f4d697865722f5363726970742e68733a38303a332d3130001630490023049001375460646088608600aa66607c66e1d20000021323232323232324994ccc114004526153304a04616304700653330423370e9000001099191919191919191924ca6660960022930a998280260b1826803299982419b87480000084c8c8c8c926533304c001149854cc14413458c13800cdd680098268008a99982419b87480080084c9265333049001149854cc1381285854cc13813c58c13c008c13c004dd50009824800982380118238008a998240248b182480118248009baa00130430011533303e3370e900100109924ca66607e0022930a998220200b0a998220228b182280118228009baa302e3040303f001303e3035302f333222330353302c003002001375c607e01a6eb8c0fc02cdd6181f981f00c191bab303f303e3035001302e333027375c607c0186eb8c0f8028dd6181f00c0a9981fa4814c5061747465726e206d61746368206661696c75726520696e207175616c69666965642027646f2720626c6f636b206174207372632f4d697865722f5363726970742e68733a36353a332d3236001630400023040001375460526460786048606400260566660486eb8c0ec024dd7181d8041bac303b01453330353370e900000109919191919191924ca6660780022930a9982081e8b181f003299981c99b87480000084c8c8c8c8c8c8c8c8c9265333042001149854cc11c10c58c1100194ccc0fccdc3a40000042646464649329998218008a4c2a660900882c608a0066eb4004c11000454ccc0fccdc3a40040042649329998200008a4c2a6608a0822c2a6608a08c2c608c004608c0026ea8004c100004c0f8008c0f800454cc0fc10058c100008c100004dd5000981d0008a99981a99b87480080084c9265333036001149854cc0ec0dc5854cc0ec0f058c0f0008c0f0004dd5181299181c1810181700098139998101bae3037005375c606e0086eb0c0dc040ccc8894ccc0d0cdc3999812000801801240042930a9981d249284f75747075742073686f756c6420636f6e7461696e206f6e652070726f746f636f6c20746f6b656e0016375c606c0086eb8c0d8004dd5981b004981a00098198009819000981400ca99981619b87480000084c8c8c8c9265333030001149854cc0d40c458c0c800ccc0a48c8008dd68009bac00130310011533032033163033002303300137546038605c605a00260586046603a6644660446046605e604a0020046eb0c0b4c0b0018004c0b0c0acc08800454cc0b12414c5061747465726e206d61746368206661696c75726520696e207175616c69666965642027646f2720626c6f636b206174207372632f4d697865722f5363726970742e68733a35313a332d31360016153302c4914c5061747465726e206d61746368206661696c75726520696e207175616c69666965642027646f2720626c6f636b206174207372632f4d697865722f5363726970742e68733a34393a332d31330016302d002302d00137546050604e006604c0026038604c0026036012a66603e66e1d20000021323232324994ccc08c0045261533028024163025003375a00260480022a6604a04c2c604c004604c0026ea80194ccc06ccdc3a400000426464646493299980f8008a4c2a660480402c6042006660304640046eb4004dd600098100008a998108110b181100118110009baa0033232323202253330173370e90000010991919299980d29991980d8008a513370e0029000099b87001480e04c8c8c94ccc074cdc49b8d001481004c8c8c94ccc080cdc49b8d001481004c8c8c94ccc08ccdc49b8d001481004c8c8c8c8c9265333028001149854cc0b40a458c0a800cdd6800981480098138018a998148130b1bae00130260013024003153302602316375c002604600260420062a660460402c6eb8004c080004c07801054cc081241387074727946726f6d2843757272656e637953796d626f6c293a206d757374206265203238206279746573206c6f6e67206f7220656d7074790016371a0026eb8004c07000454cc07407858c078008c078004dd500f1180c180c0009111980699802001801198089180d980d180880080091119b87333004375660326030601e00200600490011111999802001240004666600a00490003ad3756002006460046ea40048888cc03c894ccc054004401454ccc050cdd7980e980c80080309802180e180c80089801180c0008009191919299980899b87480100084c05800454cc05c01458c060008c060004dd5000a481254f75747075742073686f756c6420636f6e7461696e20696e6c696e61626c6520646174756d002533300d001153301200216132533300e001130120021533013004163010001491104e6f206f75747075747320666f756e640049011a4d6f7265207468616e206f6e65206f757470757420666f756e64002300622533300c0011009132533300c300400113300b0013003301000213003301000230100012233003002300e3004001223375e6e9cc00c008dd39801800918071baa0012300222533300800110051330063003300c0013002300b0012323002233002002001230022330020020014bd702ba05734aae7d241317074727946726f6d2850446174615265636f72645b5d293a206c697374206973206c6f6e676572207468616e207a65726f004901327074727946726f6d28546f6b656e4e616d65293a206d757374206265206174206d6f7374203332204279746573206c6f6e67005744ae855ce2493f7265616368656420656e64206f662073756d207768696c65207374696c6c206e6f7420686176696e6720666f756e642074686520636f6e7374727563746f72005573caae7530015cd8799f581ccd4ecd8b80466c7325e9d2f76fce6eb8a236667734eb1646bcfdcb51524465706f736974205472656520546f6b656e4b5661756c7420546f6b656e554e756c6c69666965722053746f726520546f6b656e1a05f5e100ff0001',
        type: 'PlutusV2',
      },
      vaultTokenUnit:
        'cd4ecd8b80466c7325e9d2f76fce6eb8a236667734eb1646bcfdcb515661756c7420546f6b656e',
      depositTreeTokenUnit:
        'cd4ecd8b80466c7325e9d2f76fce6eb8a236667734eb1646bcfdcb514465706f736974205472656520546f6b656e',
      nullifierStoreTokenUnit:
        'cd4ecd8b80466c7325e9d2f76fce6eb8a236667734eb1646bcfdcb514e756c6c69666965722053746f726520546f6b656e',
    },
  },
  zKeyConfig: {
    url: 'https://media.githubusercontent.com/media/prodderman/storage/main/withdraw.gz',
    version: 1,
  },
});

root.render(<Root />);
